<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        <script src="https://kit.fontawesome.com/fdd6196f61.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a277eb582a644847f86de6196a42745f"></script>

        <style>

            @font-face {
                font-family: 'omyu_pretty';
                src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-01@1.0/omyu_pretty.woff2') format('woff2');
                font-weight: normal;
                font-style: normal;
            }

            body {
                font-family: 'omyu_pretty';
                min-width: 375px;
            }

            div.clickEffect{
                position: fixed;
                box-sizing: border-box;
                border-style: solid;
                border-color: #CACACA;
                border-radius: 50%;
                animation: clickEffect 0.8s ease-out;
                z-index: 1500;
            }
            
            @keyframes clickEffect{
                from {
                    opacity:1;
                    width:0.5rem; height:0.5rem;
                    margin:-0.25rem;
                    border-width:0.2rem;
                }
                to {
                    opacity:0.1;
                    width:10rem; height:10rem;
                    margin:-5rem;
                    border-width:0.01rem;
                }
            }

            :root {
                --color-white: 255, 255, 255;
                --color-black: 0, 0, 0;
                
                --border-circular: 50%;

                --my-location-marker-box-size: 2rem;
                --my-location-marker-first-diameter: 2rem;
                --my-location-marker-second-diameter: 0.9rem;
                --my-location-marker-third-diameter: 0.65625rem;

                --my-track-marker-size: 2rem;

                --action-background-circle-diameter: 50rem;
                --action-background-circle-color: radial-gradient(rgb(125, 131, 199, 1) 0%, rgb(255, 255, 255, 0) 70%, rgb(255, 255, 255, 0) 100%);
                --action-menu-button-diameter: 3.5rem;
                --action-menu-button-color: linear-gradient(to bottom, #ad93c2 40%, #6F3C95 100%);;
                --action-close-button-out-diameter: 2.5rem;
                --action-close-button-in-diameter: 2rem;
                --action-out-circle-diameter: 3.5rem;
                --action-in-circle-diameter: 3rem;
                --action-out-circle-color: rgb(233, 233, 233, 0.3);
                --action-out-circle-border: 2px solid rgba(46, 51, 116, 0.4);
                --action-in-circle-border: 2px solid rgb(80, 89, 205);
                --action-main-color: rgb(80, 89, 205);
            }

            #topBanner {
                height: 5rem;
            }

            #map {
                position: relative;
                overflow: hidden;
                width: 100%;
                height: 32rem;
            }

            #block {
                position: absolute;
                z-index: 9999;
                width: 100%;
                height: 32rem;
            }

            .myLocationMarkerBox {
                position: relative;
                width: var(--my-location-marker-box-size);
                height: var(--my-location-marker-box-size);
            }

            .myLocationMarker {
                position: absolute;
                border-radius: var(--border-circular);
                top: calc(50% - var(--my-location-marker-radius));
                left: calc(50% - var(--my-location-marker-radius));
            }

            .myLocationMarker.first {
                width: var(--my-location-marker-first-diameter);
                height: var(--my-location-marker-first-diameter);
                border-radius: var(--border-circular);
                background: rgb(var(--color-black), 0.1);
                --my-location-marker-radius: var(--my-location-marker-first-diameter) / 2;
            }

            .myLocationMarker.second {
                width: var(--my-location-marker-second-diameter);
                height: var(--my-location-marker-second-diameter);
                border-radius: var(--border-circular);
                background: rgb(var(--color-white));
                box-shadow: 0 0 2px 2px rgb(var(--color-black), 0.5);
                --my-location-marker-radius: var(--my-location-marker-second-diameter) / 2;
            }

            .myLocationMarker.third {
                width: var(--my-location-marker-third-diameter);
                height: var(--my-location-marker-third-diameter);
                border-radius: var(--border-circular);
                background: rgb(var(--color-black));
                --my-location-marker-radius: var(--my-location-marker-third-diameter) / 2;
            }

            .pinImage {
                width: var(--my-track-marker-size);
                height: var(--my-track-marker-size);
                background: url('/public/image/follow/pin.png') center no-repeat;
                background-size: cover;
            }

            #shopButtonBox {
                position: absolute;
                z-index: 1000;
                width: 4rem;
                height: 4rem;
                top: 5%;
                right: 5%;
                border-radius: var(--border-circular);
                background: linear-gradient(to bottom, #ad93c2 40%, #6F3C95 100%);
                border: 2px solid #422C52;
            }

            #shopButtonLight {
                position: absolute;
                z-index: -1;
                width: 0.8rem;
                height: 0.5rem;
                top: 7%;
                left: 17%;
                border-radius: var(--border-circular);
                background-color: #fff;
                transform: rotate(-30deg);
            }

            #shopButtonContent {
                position: absolute;
                font-size: 1.1rem;
                bottom: 0%;
                left: 30%;
                color: #fff;
            }

            #myPageButtonBox {
                position: absolute;
                z-index: 1000;
                width: 4rem;
                height: 4rem;
                top: 20%;
                right: 5%;
                border-radius: var(--border-circular);
                background: linear-gradient(to bottom, #ad93c2 40%, #6F3C95 100%);
                border: 2px solid #422C52;
            }

            #myPageButtonLight {
                position: absolute;
                z-index: -1;
                width: 0.8rem;
                height: 0.5rem;
                top: 7%;
                left: 17%;
                border-radius: var(--border-circular);
                background-color: #fff;
                transform: rotate(-30deg);
            }

            #myPageButtonContent {
                position: absolute;
                font-size: 1.1rem;
                bottom: 0%;
                left: 19%;
                color: #fff;
            }

            #collectionButtonBox {
                position: absolute;
                z-index: 1000;
                width: 4rem;
                height: 4rem;
                top: 35%;
                right: 5%;
                border-radius: var(--border-circular);
                background: linear-gradient(to bottom, #ad93c2 40%, #6F3C95 100%);
                border: 2px solid #422C52;
            }

            #collectionButtonLight {
                position: absolute;
                z-index: -1;
                width: 0.8rem;
                height: 0.5rem;
                top: 7%;
                left: 17%;
                border-radius: var(--border-circular);
                background-color: #fff;
                transform: rotate(-30deg);
            }

            #collectionButtonContent {
                position: absolute;
                font-size: 1.1rem;
                bottom: 0%;
                left: 18%;
                color: #fff;
            }

            #reloadLoactionButton {
                position: absolute;
                z-index: 1000;
                width: 3rem;
                height: 3rem;
                bottom: 5%;
                right: 7%;
                border-radius: var(--border-circular);
                background: linear-gradient(to bottom, #dd9bac 20%, #d12a2a 100%);
                border: 2px solid rgb(var(--color-black));
            }

            #reloadLoactionButtonLight {
                position: absolute;
                z-index: -1;
                width: 0.8rem;
                height: 0.5rem;
                top: 8%;
                left: 11%;
                border-radius: var(--border-circular);
                background-color: #fff;
                transform: rotate(-30deg);
            }

            .pets_icon {
                position: absolute;
                font-size: 2rem;
                top: calc(50% - 1rem);
                left: calc(50% - 1rem);
                background: linear-gradient(to bottom, #fff 50%, #CACACA 100%);
                background-clip: text;
                -webkit-text-fill-color: transparent;
                user-select: none;
            }

            .close_icon {
                position: absolute;
                font-size: 1.5rem;
                top: calc(50% - 0.75rem);
                left: calc(50% - 0.75rem);
                color: var(--action-main-color);
                user-select: none;
            }

            .mark_icon {
                position: absolute;
                width: 1.8rem;
                height: 1.8rem;
                top: calc(50% - 0.9rem);
                left: calc(50% - 0.9rem);
                color: var(--action-main-color);
            }

            .scan_icon {
                position: absolute;
                width: 1.8rem;
                height: 1.8rem;
                top: calc(50% - 0.9rem);
                left: calc(50% - 0.9rem);
                color: var(--action-main-color);
                border-radius: var(--border-circular);
            }

            .track_icon {
                position: absolute;
                width: 2rem;
                height: 2rem;
                top: calc(50% - 1rem);
                left: calc(50% - 1rem);
                color: var(--action-main-color);
            }

            #actionBackgroundCircle {
                position: absolute;
                z-index: 2000;
                width: var(--action-background-circle-diameter);
                height: var(--action-background-circle-diameter);
                top: calc(110% - var(--action-background-circle-diameter) / 2);
                left: calc(50% - var(--action-background-circle-diameter) / 2);
                background: var(--action-background-circle-color);
            }

            #actionMenuButton {
                position: absolute;
                z-index: 2000;
                width: var(--action-menu-button-diameter);
                height: var(--action-menu-button-diameter);
                bottom: calc(10.5% - var(--action-menu-button-diameter) / 2);
                left: calc(50% - var(--action-menu-button-diameter) / 2);
                background: var(--action-menu-button-color);
                border-radius: var(--border-circular);
                border: 2px solid black;
                box-shadow: 0 2px 1px 0.5px var(--box-shadow-color);
            }

            #actionMenuButtonLight {
                position: absolute;
                z-index: -1;
                width: 0.8rem;
                height: 0.5rem;
                top: 7%;
                left: 16%;
                border-radius: var(--border-circular);
                background-color: #fff;
                transform: rotate(-30deg);
            }

            #actionMenuButton:active {
                box-shadow: 0 1px 0 rgb(0,0,0,0.3);
                bottom: calc(10.2% - var(--action-menu-button-diameter) / 2);;
            }

            .actionCircleOut {
                position: absolute;
                z-index: 2000;
                width: var(--action-out-circle-diameter);
                height: var(--action-out-circle-diameter);
                background: var(--action-out-circle-color);
                border: var(--action-out-circle-border);
                border-radius: var(--border-circular);
            }

            .actionCircleIn {
                position: absolute;
                width: var(--action-in-circle-diameter);
                height: var(--action-in-circle-diameter);
                top: calc(50% - var(--action-in-circle-diameter) / 2);
                left: calc(50% - var(--action-in-circle-diameter) / 2);
                background: rgb(var(--color-white));
                border: var(--action-in-circle-border);
                border-radius: var(--border-circular);
            }

            .actionCircleCloseOut {
                position: absolute;
                z-index: 2000;
                width: var(--action-close-button-out-diameter);
                height: var(--action-close-button-out-diameter);
                bottom: calc(11% - var(--action-close-button-out-diameter) / 2);
                left: calc(50% - var(--action-close-button-out-diameter) / 2);
                background: var(--action-out-circle-color);
                border: var(--action-out-circle-border);
                border-radius: var(--border-circular);
            }

            .actionCircleCloseIn {
                position: absolute;
                width: var(--action-close-button-in-diameter);
                height: var(--action-close-button-in-diameter);
                top: calc(50% - var(--action-close-button-in-diameter) / 2);
                left: calc(50% - var(--action-close-button-in-diameter) / 2);
                background: rgb(var(--color-white));
                border: var(--action-in-circle-border);
                border-radius: var(--border-circular);
            }

            .markOut {
                top: calc(83% - var(--action-out-circle-diameter) / 2);
                left: calc(36% - var(--action-out-circle-diameter) / 2);
            }

            .scanOut {
                top: calc(79% - var(--action-out-circle-diameter) / 2);
                left: calc(50% - var(--action-out-circle-diameter) / 2);
            }

            .trackOut {
                top: calc(83% - var(--action-out-circle-diameter) / 2);
                right: calc(36% - var(--action-out-circle-diameter) / 2);
            }

            .action_text {
                font-size: 1rem;
                position: absolute;
                top: -30%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: #313681;
                user-select: none;
            }

            @keyframes markButtonSpreadOut {
                from {
                    transform: translate(0, 0);
                    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    opacity: 0;
                }
                to {
                    transform: translate(-2rem, -2rem);
                    opacity: 1;
                }
            }

            @keyframes markButtonSpreadIn {
                from {
                    transform: translate(-2rem, -2rem);
                    animation-timing-function: cubic-bezier(0.6, -0.28, 0.735, 0.045);
                    opacity: 1;
                }
                to {
                    transform: translate(0, 0);
                    opacity: 0;
                }
            }

            @keyframes scanButtonSpreadOut {
                from {
                    transform: translate(0, 0);
                    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    opacity: 0;
                }
                to {
                    transform: translateY(-2rem);
                    opacity: 1;
                }
            }

            @keyframes scanButtonSpreadIn {
                from {
                    transform: translateY(-2rem);
                    animation-timing-function: cubic-bezier(0.6, -0.28, 0.735, 0.045);
                    opacity: 1;
                }
                to {
                    transform: translate(0, 0);
                    opacity: 0;
                }
            }

            @keyframes trackButtonSpreadOut {
                from {
                    transform: translate(0, 0);
                    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    opacity: 0;
                }
                to {
                    transform: translate(2rem, -2rem);
                    opacity: 1;
                }
            }

            @keyframes trackButtonSpreadIn {
                from {
                    transform: translate(2rem, -2rem);
                    animation-timing-function: cubic-bezier(0.6, -0.28, 0.735, 0.045);
                    opacity: 1;
                }
                to {
                    transform: translate(0, 0);
                    opacity: 0;
                }
            }

            @keyframes showScale {
                from {
                    transform: scale(0);
                }
                to {
                    transform: scale(1);
                }
            }

            @keyframes hideScale {
                from {
                    transform: scale(1);
                }
                to {
                    transform: scale(0);
                }
            }

            @keyframes showOpacity {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }

            @keyframes hideOpacity {
                from {
                    opacity: 1;
                }
                to {
                    opacity: 0;
                }
            }

        </style>

        <script>

            let map;

            let myLocation;

            let currentLat;
            let currentLng;

            const staticLat = 37.4996259;
            const staticLng = 127.0304801;

            let myTrackMarkers = [];
            let tracingTrackMarkers = [];
            let tracingTrackInfoMarkers = [];

            const alertTime = 1000;

            function reloadMyLocation() {
                getMyLocation();
            }

            function showActionMenu() {
                document.getElementById("actionMenuButton").hidden = true;
                document.getElementById("actionCloseButton").hidden = false;

                const actionBackgroundCircle = document.getElementById("actionBackgroundCircle");
                actionBackgroundCircle.hidden = false;
                actionBackgroundCircle.style.animation = 'showScale 0.3s linear 1';
                
                for(e of document.getElementsByClassName("actionCircleOut")) {
                    e.hidden = false;
                    e.style.animation = e.id + 'SpreadOut 0.4s linear 1';
                    e.style.animationFillMode = 'both';
                }

                const reloadLoactionButton = document.getElementById("reloadLoactionButton");
                reloadLoactionButton.style.animation = 'hideOpacity 0.2s linear 1';
                reloadLoactionButton.style.animationFillMode = 'both';

                setTimeout(() => {
                    reloadLoactionButton.hidden = true;
                }, 200);

            }

            function hideActionMenu() {

                const actionCircleOut = document.getElementsByClassName("actionCircleOut");

                for(e of actionCircleOut) {
                    e.style.animation = e.id + 'SpreadIn 0.3s linear 1';
                    e.style.animationFillMode = 'both';
                }

                setTimeout(() => {
                    document.getElementById("actionCloseButton").hidden = true;

                    const actionMenuButton = document.getElementById("actionMenuButton");
                    actionMenuButton.style.animation = 'showOpacity 0.3s linear 1';
                    actionMenuButton.style.animationFillMode = 'both';
                    actionMenuButton.hidden = false;

                    const reloadLoactionButton = document.getElementById("reloadLoactionButton");
                    reloadLoactionButton.style.animation = 'showOpacity 0.3s linear 1';
                    reloadLoactionButton.style.animationFillMode = 'both';

                    reloadLoactionButton.hidden = false;
                }, 150);

                const actionBackgroundCircle = document.getElementById("actionBackgroundCircle");
                actionBackgroundCircle.style.animation = 'hideScale 0.3s linear 1';
                
                setTimeout(() => {
                    actionBackgroundCircle.hidden = true;
                    for(e of actionCircleOut) {
                        e.hidden = true;
                    }
                }, 300);
            }

            function openMyCollection() {
                // asdf 마저 채우기
                showMyCollectionModal();
            }
            
            function showAndHideAlertModal() {
                const modal = bootstrap.Modal.getOrCreateInstance("#alertModal");
                modal.show();

                setTimeout(() => {
                    modal.hide();
                }, alertTime);
            }

            function showMyCollectionModal() {
                const modal = bootstrap.Modal.getOrCreateInstance("#myCollectionModal");
                modal.show();
            }

            function createMap() {

                const mapContainer = document.getElementById("map");
                mapOption = {
                    center: new kakao.maps.LatLng(staticLat, staticLng),
                    level: 4
                };

                map = new kakao.maps.Map(mapContainer, mapOption);

            }

            function getMyLocation() {
                if(navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition((position) => {

                        currentLat = position.coords.latitude;
                        currentLng = position.coords.longitude;

                        const currentPosition = new kakao.maps.LatLng(currentLat, currentLng)

                        displayMyLocation(currentPosition);
                    });
                }else {
                    const staticPosition = new kakao.maps.LatLng(staticLat, staticLng);
                    displayMyLocation(staticPosition);

                    document.getElementById("alertContent").innerText = "위치정보가 필요합니다";
                    showAndHideAlertModal();

                    setTimeout(() => {
                        location.href = "/commons/mainPage";
                    }, alertTime);
                }
            }

            function displayMyLocation(position) {
                // asdf 지우기
                displayMyTrackMarker();

                if(myLocation) {
                    myLocation.setPosition(position);
                    map.panTo(position);

                    return;
                }

                const content = document.createElement("div");
                content.classList.add("myLocationMarkerBox");

                const div1 = document.createElement("div");
                div1.classList.add("myLocationMarker", "first");
                const div2 = document.createElement("div");
                div2.classList.add("myLocationMarker", "second");
                const div3 = document.createElement("div");
                div3.classList.add("myLocationMarker", "third");

                content.appendChild(div1);
                content.appendChild(div2);
                content.appendChild(div3);
                
                    myLocation = new kakao.maps.CustomOverlay({
                    position: position,
                    content: content
                });

                myLocation.setMap(map);
                map.panTo(position);

            }
            
            function displayMyTrackMarker() {

                const position = new kakao.maps.LatLng(currentLat, currentLng);

                const content = document.createElement("div");
                content.classList.add("pinImage");

                const marker = new kakao.maps.CustomOverlay({
                    position: position,
                    content: content,
                    xAnchor: 0.57,
                    yAnchor: 0.98,
                    zIndex: 1
                });

                marker.setMap(map);
            }

            document.addEventListener('click', clickEffect);

            function clickEffect(e) {
                const d = document.createElement("div");
                d.className="clickEffect";
                d.style.top = e.clientY + "px";
                d.style.left = e.clientX + "px";
                document.body.appendChild(d);
                d.addEventListener('animationend', function() {
                    d.parentElement.removeChild(d);
                }.bind(this));
            }

            window.addEventListener("DOMContentLoaded", () => {

                createMap();
                getMyLocation();

            });

        </script>

    </head>

    <body>

        <div class="container-fluid">
            <div class="row">
                <div id="topBanner" class="col"></div>
            </div>
            <div class="row">
                <div class="col px-0">
                    <div id="block" hidden></div>
                    <div id="map">
                        <div id="shopButtonBox" class="text-center">
                            <div id="shopButtonLight"></div>
                            <div id="shopButtonContent">
                                상점
                            </div>
                            <img class="mt-1" th:src="@{/public/image/follow/shop.png}" style="width: 2.1rem; height: 2.1rem;">
                        </div>
                        <div id="myPageButtonBox" class="text-center">
                            <div id="myPageButtonLight"></div>
                            <div id="myPageButtonContent">
                                내정보
                            </div>
                            <img class="mt-1" th:src="@{/public/image/follow/person.png}" style="width: 2.1rem; height: 2.1rem;">
                        </div>
                        <div onclick="openMyCollection()" id="collectionButtonBox" class="text-center">
                            <div id="collectionButtonLight"></div>
                            <div id="collectionButtonContent">
                                컬렉션
                            </div>
                            <img th:src="@{/public/image/follow/bag.png}" style="width: 3.8rem; height: 2.8rem;">
                        </div>
                        <div onclick="reloadMyLocation()" id="reloadLoactionButton" class="text-center align-items-center d-grid">
                            <div id="reloadLoactionButtonLight"></div>
                            <span class="material-symbols-outlined my-location-icon">
                                my_location
                            </span>
                        </div>
                        <div id="actionBackgroundCircle" hidden></div>
                        <div onclick="showActionMenu()" id="actionMenuButton">
                            <div id="actionMenuButtonLight"></div>
                            <span class="material-symbols-outlined pets_icon">
                                pets
                            </span>
                        </div>
                        <div onclick="hideActionMenu()" id="actionCloseButton" class="actionCircleCloseOut" hidden>
                            <div onclick="hideActionMenu()" class="actionCircleCloseIn">
                                <span class="material-symbols-outlined close_icon">
                                    close
                                </span>
                            </div>
                        </div>
                        <div onclick="marking()" id="markButton" class="actionCircleOut markOut" hidden>
                            <div class="action_text">체취</div>
                            <div class="actionCircleIn">
                                <svg class="mark_icon" fill="#5059cd" height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 480.001 480.001" xml:space="preserve" stroke="#5059cd" stroke-width="14.400029999999997"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <g> <path d="M288.399,58.009c1.339,0,2.699-0.271,4.004-0.841l9.838-4.305c5.06-2.214,7.366-8.11,5.152-13.17 s-8.111-7.365-13.17-5.152l-9.838,4.305c-5.06,2.214-7.366,8.11-5.152,13.17C280.876,55.77,284.547,58.009,288.399,58.009z"></path> <path d="M325.114,41.949c1.341,0,2.702-0.271,4.009-0.843l0.916-0.401c0.309-0.135,0.607-0.284,0.896-0.446 c0.315-0.102,0.627-0.221,0.936-0.356l0.916-0.401c0.308-0.135,0.606-0.284,0.893-0.445c0.316-0.102,0.631-0.222,0.941-0.358 l0.915-0.401c0.308-0.135,0.605-0.284,0.892-0.445c0.315-0.102,0.627-0.221,0.937-0.356l0.916-0.401 c0.309-0.135,0.607-0.285,0.896-0.447c0.314-0.102,0.627-0.22,0.936-0.356l0.916-0.401c0.308-0.134,0.607-0.284,0.894-0.445 c0.315-0.102,0.629-0.221,0.939-0.357l0.916-0.401c0.309-0.135,0.607-0.285,0.895-0.446c0.314-0.102,0.627-0.221,0.937-0.356 l0.916-0.401c5.059-2.216,7.362-8.114,5.146-13.172c-2.217-5.059-8.115-7.362-13.173-5.146l-0.916,0.401 c-0.309,0.135-0.608,0.285-0.896,0.446c-0.314,0.103-0.627,0.221-0.937,0.357l-0.916,0.401c-0.308,0.135-0.606,0.284-0.893,0.445 c-0.315,0.102-0.629,0.221-0.939,0.358l-0.916,0.401c-0.309,0.135-0.608,0.285-0.896,0.447c-0.314,0.102-0.627,0.22-0.937,0.356 l-0.916,0.401c-0.309,0.135-0.607,0.285-0.896,0.446c-0.315,0.103-0.63,0.222-0.939,0.358l-0.915,0.401 c-0.308,0.135-0.604,0.283-0.891,0.444c-0.315,0.102-0.628,0.221-0.939,0.357l-0.916,0.401c-0.309,0.136-0.607,0.285-0.896,0.446 c-0.315,0.102-0.627,0.221-0.936,0.356l-0.916,0.401c-5.059,2.217-7.362,8.114-5.146,13.173 C317.594,39.712,321.263,41.949,325.114,41.949z"></path> <path d="M365.409,24.303c1.337,0,2.695-0.27,3.998-0.839l9.838-4.298c5.061-2.211,7.372-8.106,5.161-13.167 c-2.213-5.061-8.109-7.371-13.167-5.16l-9.838,4.298c-5.061,2.21-7.372,8.105-5.161,13.167 C357.883,22.062,361.554,24.303,365.409,24.303z"></path> <path d="M378.55,147.207l-9.568-4.912c-4.91-2.521-10.941-0.583-13.463,4.33c-2.522,4.913-0.584,10.941,4.33,13.463l9.568,4.912 c1.461,0.75,3.022,1.105,4.559,1.105c3.63,0,7.133-1.983,8.904-5.435C385.403,155.757,383.465,149.73,378.55,147.207z"></path> <path d="M342.926,128.901l-0.89-0.456c-0.3-0.154-0.604-0.291-0.91-0.412c-0.278-0.18-0.568-0.348-0.869-0.502l-0.89-0.456 c-0.3-0.154-0.603-0.291-0.91-0.412c-0.278-0.18-0.568-0.348-0.869-0.502l-0.89-0.456c-0.3-0.154-0.604-0.291-0.91-0.412 c-0.278-0.18-0.568-0.348-0.869-0.502l-0.89-0.457c-0.3-0.154-0.604-0.291-0.91-0.412c-0.278-0.18-0.568-0.348-0.869-0.502 l-0.89-0.457c-0.3-0.154-0.603-0.291-0.91-0.412c-0.278-0.18-0.568-0.348-0.869-0.502l-0.89-0.457 c-0.299-0.153-0.602-0.29-0.907-0.411c-0.279-0.18-0.569-0.348-0.871-0.503l-0.89-0.456c-0.3-0.154-0.604-0.291-0.91-0.412 c-0.279-0.181-0.57-0.349-0.872-0.504l-0.424-0.217c-4.915-2.519-10.942-0.579-13.461,4.337 c-2.52,4.914-0.578,10.941,4.336,13.461l0.424,0.217c0.299,0.153,0.602,0.29,0.907,0.41c0.278,0.18,0.568,0.348,0.869,0.502 l0.89,0.457c0.299,0.153,0.602,0.29,0.907,0.411c0.279,0.18,0.569,0.348,0.871,0.503l0.89,0.457 c0.3,0.154,0.603,0.291,0.91,0.412c0.278,0.18,0.568,0.348,0.869,0.502l0.89,0.456c0.3,0.154,0.603,0.291,0.91,0.412 c0.278,0.18,0.568,0.348,0.869,0.502l0.89,0.456c0.3,0.154,0.604,0.291,0.91,0.412c0.278,0.18,0.568,0.348,0.869,0.502 l0.89,0.456c0.3,0.154,0.604,0.291,0.91,0.412c0.278,0.18,0.568,0.348,0.869,0.502l0.89,0.457c0.3,0.154,0.603,0.291,0.91,0.412 c0.278,0.18,0.568,0.348,0.869,0.502l0.89,0.457c1.461,0.75,3.021,1.105,4.558,1.105c3.63,0,7.133-1.984,8.904-5.437 C349.779,137.45,347.841,131.422,342.926,128.901z"></path> <path d="M303.798,108.812l-9.539-4.911c-4.908-2.528-10.94-0.598-13.468,4.313c-2.528,4.911-0.597,10.941,4.313,13.468 l9.539,4.911c1.465,0.754,3.027,1.111,4.569,1.111c3.625,0,7.125-1.979,8.898-5.424 C310.639,117.369,308.708,111.34,303.798,108.812z"></path> <path d="M296.66,68.209c-5.522,0-10,4.477-10,10s4.478,10,10,10h10.736c5.522,0,10-4.477,10-10s-4.478-10-10-10H296.66z"></path> <path d="M347.552,68.209c-0.338,0-0.671,0.017-1,0.049c-0.329-0.033-0.662-0.049-1-0.049h-1c-0.338,0-0.671,0.017-1,0.049 c-0.329-0.033-0.662-0.049-1-0.049h-1c-0.338,0-0.671,0.017-1,0.049c-0.329-0.033-0.662-0.049-1-0.049h-1 c-0.338,0-0.671,0.017-1,0.049c-0.329-0.033-0.662-0.049-1-0.049h-1c-0.338,0-0.671,0.017-1,0.049 c-0.329-0.033-0.662-0.049-1-0.049h-1c-5.522,0-10,4.477-10,10s4.478,10,10,10h1c0.338,0,0.671-0.017,1-0.049 c0.329,0.033,0.662,0.049,1,0.049h1c0.338,0,0.671-0.017,1-0.049c0.329,0.033,0.662,0.049,1,0.049h1c0.338,0,0.671-0.017,1-0.049 c0.329,0.033,0.662,0.049,1,0.049h1c0.338,0,0.671-0.017,1-0.049c0.329,0.033,0.662,0.049,1,0.049h1c0.338,0,0.671-0.017,1-0.049 c0.329,0.033,0.662,0.049,1,0.049h0.505c5.522,0,10-4.477,10-10s-4.478-10-10-10H347.552z"></path> <path d="M381.023,68.209H370.3c-5.522,0-10,4.477-10,10s4.478,10,10,10h10.723c5.522,0,10-4.477,10-10 S386.546,68.209,381.023,68.209z"></path> <path d="M216.457,142.399v-6.095h32.959c5.522,0,10-4.477,10-10V40.377c0-5.523-4.478-10-10-10H163.48c-5.522,0-10,4.477-10,10 v85.928c0,5.523,4.478,10,10,10h32.977v6.111c-63.738,5.007-107.408,57.95-107.408,132.191v75.445 c-0.093,0.805-0.098,1.603,0,2.377v117.572c0,5.523,4.478,10,10,10h214.816c5.522,0,10-4.477,10-10v-163.93 c0-0.011,0-0.025,0-0.038v-31.426c0-36.194-10.872-69.244-30.613-93.061C273.871,158.164,247.472,144.753,216.457,142.399z M173.48,116.305V50.377h65.936v22.997c-0.244-0.018-0.488-0.037-0.736-0.037h-21.486c-5.522,0-10,4.477-10,10s4.478,10,10,10 h21.486c0.248,0,0.492-0.02,0.736-0.037v23.005H173.48z M303.865,460.002H109.049v-22.96h194.816V460.002z M303.866,417.042 L303.866,417.042H109.049v-65.204c0.845-3.798,4.069-16.559,11.624-28.996c11.16-18.376,26.47-27.694,45.503-27.694 c6.992,0,11.729,1.453,14.479,4.441c6.168,6.703,4.782,23.359,3.559,38.055c-1.498,17.997-3.047,36.607,7.155,48.204 c5.154,5.859,12.494,9.042,21.813,9.458c1.333,0.06,2.657,0.09,3.982,0.09c29.224-0.002,56.629-14.504,79.474-42.132 c2.605-3.151,5.011-6.305,7.228-9.397V417.042z M303.865,304.136c-4.98,11.092-35.537,73.637-89.79,71.191 c-5.543-0.248-7.159-2.085-7.69-2.689c-4.581-5.207-3.338-20.15-2.24-33.333c1.641-19.713,3.337-40.097-8.774-53.257 c-6.654-7.231-16.477-10.898-29.195-10.898c-23.087,0-42.656,10.063-57.127,29.232v-29.773 c0-56.041,30.119-112.586,97.408-112.586s97.408,56.545,97.408,112.585V304.136z"></path> </g> </g> </g> </g></svg>
                            </div>
                        </div>
                        <div onclick="scaning()" id="scanButton" class="actionCircleOut scanOut" hidden>
                            <div class="action_text">시향</div>
                            <div class="actionCircleIn">
                                <svg class="scan_icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#5059cd" stroke="#5059cd" stroke-width="20.48"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#fff" d="M18 18v34.924C30.373 40.596 43.205 29.082 56.232 18H18zm66.443 0C61.258 37.103 38.673 56.716 18 79.066v93.604c35.238-62.356 85.948-121.868 169.047-154.234L186.71 18H84.442zm96.07 22.428C97.444 77.27 50.832 143.66 18 210.878v64.858c11.154.898 21.737 2.696 31.846 5.455-4.82-7.28-8.926-14.836-11.254-22.258-3.256-10.382-2.62-22.698-1.78-33.282.842-10.583 2.317-19.17 2.317-19.17l17.74 3.04s-1.342 7.86-2.114 17.558c-.772 9.7-.545 21.504 1.012 26.467 2.876 9.17 13.302 24.353 23.015 36.187a327.014 327.014 0 0 0 4.016 4.79c7.474 4.124 14.704 8.94 21.745 14.48 33.96 26.73 63.706 69.267 99.367 130.902 16.65 6.505 40.976 9.85 64.414 10.405a36.37 36.37 0 0 1-2.592-4.486c-4.572-9.458-4.285-22.07 3.704-31.392 7.562-8.826 17.962-18.636 30.61-24.358 5.532-2.503 11.77-4.057 18.153-4.12.076-.002.15.005.226.005l-18.238-62.606c-3.994-9.02-4.22-18.422-2.325-26.89 1.95-8.702 5.86-16.646 10.035-24.292 8.34-15.268 17.522-29.612 18.94-42.438 2.55-26.62-12.78-47.528-24.22-74.013l-1.08-2.5.49-2.683c7.444-40.794 33.434-74.835 60.376-109.16-49.54-4.95-111.124 15.353-158.06 29.514l-7.61 2.297-3.218-7.27c-4.085-9.22-8.42-17.702-13.002-25.49zm119.674 282.926c.112.25.215.503.333.753l-.49-1.293.158.54zm79.655-258.51a163.5 163.5 0 0 0-13.22.51c-21.75 28.594-40.064 56.13-46.23 85.808.794 1.755 1.635 3.52 2.495 5.293 24.865-33.377 53.62-65.993 96.406-87.627-14.438-2.722-27.53-3.96-39.45-3.984zm-156.03 130.77l17.323 4.886c-2.18 7.726.64 20.587 8.457 32.105 7.816 11.52 20.036 21.37 33.588 24.864l-4.494 17.428c-18.755-4.836-34.023-17.498-43.99-32.185-9.965-14.687-15.22-31.725-10.885-47.098zM353.845 295.67l-4.797 84.873 21.817-62.324-17.02-22.55zm72.394 29.07l-51.172 66.15s78.346-26.13 82.184-27.158c3.838-1.028-31.012-38.992-31.012-38.992zm38.672 77.076l-74.24 14.653 76.183 6.735-1.943-21.39zm-143.662.543c6.196 36.786-13.185 38.92-33.77 42.212 8.924 2.434 37.68 6.205 45.69-6.953 6.452-10.598-5.676-27.313-11.92-35.26zm54.396 42.716l39.526 25.824 44.13-15.67-83.656-10.154zM18 471v18h476v-18H18z"></path></g></svg>
                            </div>
                        </div>
                        <div onclick="tracking()" id="trackButton" class="actionCircleOut trackOut" hidden>
                            <div class="action_text">추행</div>
                            <div class="actionCircleIn">
                                <svg class="track_icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#5059cd" transform="rotate(0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path fill="none" d="M0 0h24v24H0z"></path> <path d="M4 18h5.5v1.25a2.75 2.75 0 1 1-5.5 0V18zm4.058-4l.045-.132C8.87 11.762 9 11.37 9 11c0-.75-.203-1.643-.528-2.273C8.23 8.257 8.06 8.12 8 8.12 6.72 8.12 5.5 9.484 5.5 11c0 .959.075 1.773.227 2.758l.038.242h2.293zM8 6.12c2 0 3 2.88 3 4.88 0 1-.5 2-1 3.5L9.5 16H4c0-1-.5-2.5-.5-5S5.498 6.12 8 6.12zm12.054 7.978l-.217 1.231a2.75 2.75 0 0 1-5.417-.955l.218-1.23 5.416.954zm-1.05-4.246c.165-.5.301-.895.303-.9.202-.658.361-1.303.485-2.008.263-1.492-.702-3.047-1.962-3.27-.059-.01-.25.095-.57.515-.43.565-.784 1.41-.915 2.147-.058.33-.049.405.27 2.263.045.256.082.486.116.717l.02.138 2.254.398zm-.826-8.147c2.464.434 4.018 3.124 3.584 5.586-.434 2.463-1.187 3.853-1.36 4.838l-5.417-.955-.232-1.564c-.232-1.564-.55-2.636-.377-3.62.347-1.97 1.832-4.632 3.802-4.285z"></path> </g> </g></svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="alertModal" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content fw-bold text-white mx-auto" style="width: auto; font-size: 0.8rem; background: #D96161;">
                    <div id="alertContent" class="modal-body text-center">
                        
                    </div>
                </div>
            </div>
        </div>

        <div id="myCollectionModal" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" style="z-index: 3000; background: linear-gradient(-45deg, #422C52, #ad93c2);">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content mx-auto" style="width: 95%;">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col">
                                <div class="row">
                                    <div class="col text-center fw-bold" style="font-size: 1.5rem; text-decoration: #6F3C95 0.2rem underline; text-underline-offset: 1rem;">
                                        &nbsp;&nbsp;내 컬렉션&nbsp;&nbsp;
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="actionCircleCloseOut" data-bs-dismiss="modal" style="position: fixed;">
                            <div class="actionCircleCloseIn">
                                <span class="material-symbols-outlined close_icon">
                                    close
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
    
</html>