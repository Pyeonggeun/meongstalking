<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>상품 등록 신청 정보 입력</title>

    <script>
        function imageBoxClickHandler1() {
            const imageInput = document.getElementById("imageFile1");
            imageInput.click();
        }

        function imageBoxClickHandler2() {
            const imageInput = document.getElementById("imageFile2");
            imageInput.click();
        }

        function formSubmit(){
            const rgstrProduct = document.getElementById("rgstrProduct");

            const inputTitle = document.getElementById("inputTitle");
            const inputTitleRegex = /^.{5,}$/;
            if(!inputTitleRegex.test(inputTitle.value)){
                alert("펀딩 제목은 다섯 글자 이상 작성해 주세요.");
                inputTitle.focus();
                return;
            }

            const inputExplain = document.getElementById("inputExplain");
            const inputExplainRegex = /^.{40,}$/;
            if(!inputExplainRegex.test(inputExplain.value)){
                alert("간단한 설명은 40자 이상 작성해 주셔야합니다.");
                inputExplain.focus();
                return;
            }

            const imageFile1 = document.getElementById("imageFile1");
            if(!imageFile1.files.length) {
                alert("대표 이미지는 반드시 첨부해야 합니다.");
                imageFile1.focus();
                return;
            }

            const imageFile2 = document.getElementById("imageFile2");
            if(!imageFile2.files.length) {
                alert("상세 이미지는 반드시 첨부해야 합니다.");
                imageFile1.focus();
                return;
            }

            const inputStart = document.getElementById("inputStart");
            const inputFinish = document.getElementById("inputFinish");

            if (inputStart.value === "" || inputFinish.value === "") {
                alert("시작일과 종료일은 모두 입력해야 합니다.");
                return;
            }
            const startDate = new Date(inputStart.value);
            const finishDate = new Date(inputFinish.value);
            if (startDate > finishDate) {
                alert("종료일이 시작일보다 먼저 일수는 없습니다.");
                return;
            }

        
            const inputPrice = document.getElementById("inputPrice");
            if (inputPrice.value === "") {
                alert("가격을 설정해 주세요.");
                inputPrice.focus();
                return;
                }
            const price = Number(inputPrice.value);    
            if (price < 10000) {
                alert("금액은 10000원 이상이어야 합니다.");
                return;
                }

            const inputAmount = document.getElementById("inputAmount");
            if (inputAmount.value === "") {
                alert("목표금액을 입력해 주세요.");
                inputAmount.focus();
                return;
                }
            const amount = Number(inputAmount.value);    
            if(amount < 500000 || amount > 50000001){
                alert("목표 금액은 50만원 이상, 5000만원 이하로만 설정할 수 있습니다");
                inputAmount.focus();
                return;
            }

            rgstrProduct.submit();
        }


    </script>

    <style>
        .box-dashed {
                border-width: 0.15em;
                border-style: dashed;
                width: 100%;    
                color: gray;    
            }
    </style>
    
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>

<body>

    <div class="row"><div class="col"></div></div>


    <div class="container">
        <div class="row">
            <div class = "col">
    <!--컨테이너와 초기 로우 콜 시작했던 부분 / 밑으로 작성 ㄱㄱ-->

                        <div class="row"><div class="col" style="padding: 1em;"></div></div>    

                        <div class="row mb-2"><div class="col fw-bold" style="font-size: 1.25em;">펀딩 상품 등록 신청서 작성</div></div>
                        <div class="row mb-4"><div class="col" style="font-size: 0.95em;">펀딩 상품을 공개하는 데 필요한 내용을 작성해 주세요. 내용 그대로 신청이 들어갑니다</div></div>
                        
                        <div class="row border py-2 mx-1 mb-2">
                            <div class="col pt-1 me-1" style="font-size: 1.5em; max-width: 1em;"><i class="bi bi-journal-richtext"></i></div>
                            <div class="col ps-3"> 
                                <div class="row pb-1"><div class="col" style="font-size: 0.8em;">펀딩을 하는 회원님들은 전부 챙겨본다는</div></div>
                                <div class="row"><div class="col fw-bold" style="font-size: 1em;">필수 가이드 모음집</div></div>
                            </div>
                        </div>

                        <div class="row ms-1 mb-3"><div class="col" style="font-size: 0.8em; color: grey;"> 아래의 필수 항목들에 대한 입력을 시작해 주세요.</div></div>

                        <form action="./insertProductInfoProcess" id="rgstrProduct" method="post" enctype="multipart/form-data">


                            <div class="row mb-2"><div class="col">
                                <div class="row mb-2">
                                    <div class="col mx-2 rounded py-2" style= "background-color: gainsboro;">
                                        <div class="row mb-1"><div class="col"style="font-size: 0.85em;"><i class="bi bi-check"></i> 제목 작성 팁</div></div>
                                        <div class="row"><div class="col" style="font-size: 0.75em;">중요한 키워드는 눈에 잘 띄도록 앞부분에 적어주세요. 제목이 너무 길 경우 화면에서 잘려보일 수 있습니다. 가장 중요한 내용을 앞세워 후원회원님들의 호기심을 자극해보세요.</div></div>
                                    </div>
                            </div>
                                <div class="row"><div class="col" style="font-size: 1em;">상품 제목 <span style="font-size: 0.5em"></span></sapn></div></div>
                                <div class="row"><div class="col"><input class="form-control" id="inputTitle" type="text" name="product_name"></div></div>
                            </div></div>  

                            <div class="row mb-4"><div class="col">
                                <div class="row"><div class="col" style="font-size: 1em;">상품 요약 설명 <span style="font-size: 0.5em"></span></sapn></div></div>
                                <div class="row mb-1"><div class="col" style="font-size: 0.7em; color: gray;"> 대표이미지와 함께 보이는 글입니다. 쉽고 간결하게 소개해 주세요 </div></div>
                                <div class="row mx-1"><textarea name="simple_explain" id="inputExplain" class="form-control"></textarea></div>
                            </div></div>
                                
                            <div class="row"><div class="col" style="padding: 0.4em;"></div></div>  


                            <div class="row mb-3">
                                <div class="col">

                                    <div class="row mb-2">
                                        <div class="col" style="font-size: 1em;">대표이미지 <span style="font-size: 0.7em;"><i class="bi bi-question-circle"></i></span></div>
                                        <div class="imagePlusBox pt-1" onclick=imageBoxClickHandler1()>
                                            <div class="box-dashed rounded px-1 py-3 text-center">
                                                <div class="row"><div class="col"> <i class="bi bi-card-image" style="font-size: 2.5em; color: gray;"></i> </div></div> 
                                                <div class="row"><div class="col"> <span style="font-size: 0.85em; color: gray;">같이 게시될 이미지를 선택해 주세요</span> </div></div> 
                                            </div>
                                            <input id="imageFile1" class="d-none" name="imageFile1" type="file" accept="image/*" multiple>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col mx-2 rounded" style="background-color: gainsboro;">
                                            <div class="row"><div class="col" style="font-size: 0.9em;"> 대표 이미지 등록 가이드</div></div>
                                            <div class="row"><div class="col" style="font-size: 0.8em;">JPG, JPEG,PNG파일만 등록가능합니다</div></div>
                                            <div class="row"><div class="col" style="font-size: 0.8em;">펀딩 상품리스트 화면과 SNS등 여러 화면에서 노출 될 사진입니다. 사진을 미리 편집해서 등록해주시기 바랍니다.</div></div>
                                        </div>
                                    </div>

                                </div>
                            </div> 

                            <div class="row mb-3">
                                <div class="col">
                                    <div class="row mb-2">
                                        <div class="col" style="font-size: 1em;">상세이미지 <span style="font-size: 0.7em;"><i class="bi bi-question-circle"></i></span></div>
                                        <div class="imagePlusBox pt-1" onclick=imageBoxClickHandler2()>
                                            <div class="box-dashed rounded px-1 py-3 text-center">
                                                <div class="row"><div class="col"> <i class="bi bi-card-image" style="font-size: 2.5em; color: gray;"></i> </div></div> 
                                                <div class="row"><div class="col"> <span style="font-size: 0.85em; color: gray;">같이 게시될 이미지를 선택해 주세요</span> </div></div> 
                                            </div>
                                            <input id="imageFile2" name="imageFile2" class="d-none" type="file" accept="image/*" multiple>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col mx-2 rounded" style="background-color: gainsboro;">
                                            <div class="row pb-1"><div class="col" style="font-size: 0.9em;"> 상세 이미지 등록 가이드</div></div>
                                            <div class="row pb-1"><div class="col" style="font-size: 0.8em;">JPG, JPEG,PNG파일만 등록가능합니다</div></div>
                                            <div class="row pb-1"><div class="col" style="font-size: 0.8em;">한장의 사진에 모든 정보가 담겨야 합니다. 미리 편집해서 등록해주시기 바랍니다.</div></div>
                                        </div>
                                    </div>    
                                </div>
                            </div>
                            <div class="row"><div class="col" style="padding: 0.4em;"></div></div>  
                            <div class="row"><div class="col ms-1"> 기간 설정</div></div>

                            <div class="row mb-3">
                                <div class="col mx-2 rounded" style="background-color: gainsboro;">
                                    <div class="row py-1"><div class="col fw-bold" style="font-size: 0.9em;"> 시작일 종료일 설정 가이드</div></div>
                                    <div class="row pb-1"><div class="col" style="font-size: 0.8em;"> 심사에는 통상 일주일의 기간이 소요됩니다.</div></div>
                                    <div class="row pb-1"><div class="col" style="font-size: 0.8em;"> 신청일로부터 일주일 후를 기준으로 시작일을 설정해하는 것을 권장합니다.</div></div>
                                    <div class="row pb-1"><div class="col" style="font-size: 0.8em;"> 종료일은 오픈일 + 최대 60일 안에서 지정하는 것을 권장합니다.</div></div>
                                </div>
                            </div>    
                            
                            <div class="row mb-2"><div class="col">
                                <div class="row mb-1"><div class="col">시작일 설정</div></div>
                                <div class="row"><div class="col"><input type="datetime-local" class="form-control" id="inputStart" name="start_date"></div></div>
                            </div></div>

                            <div class="row mb-2"><div class="col" style="padding: 0.3em;"></div></div>  


                            <div class="row mb-4"><div class="col">
                                <div class="row mb-1"><div class="col">종료일 설정</div></div>
                                <div class="row"><div class="col"><input type="datetime-local" class="form-control" id="inputFinish" name="finish_date"></div></div>
                            </div></div>
                            
                            <div class="row my-2">
                                <div class="col">
                                    <div class="row"><div class="col">상품금액 설정</div></div>  
                                    <div class="row mt-1 mb-2">
                                        <div class="col mx-2 py-2 border rounded">
                                            <div class="row pb-2"><div class="col" >상품 설계 가이드 및 주의사항</div></div>
                                            <div class="row pb-1"><div class="col-3" style="font-size: 0.85em; color: gray;">옵션조건</div><div class="col" style="font-size: 0.85em;">사이즈, 색상 등의 옵션 설정이 필요하면 추가하세요</div></div>        
                                            <div class="row pb-2"><div class="col-3" style="font-size: 0.85em; color: gray;">주의사항</div><div class="col" style="font-size: 0.85em;">자사몰 및 다른 채널에서 판매된 적 있는 리워드는 단독 리워드로 제공할 수 없어요.</div></div>        
                                            <div class="row"><div class="col" style="font-size: 0.85em; color: gray;"><i class="bi bi-question-circle"></i> 리워드 금액은 얼마가 적당한가요?</div></div>        
                                            <div class="row"><div class="col ms-2" style="font-size: 0.85em;">5만원대를 기준으로 추천해요</div></div>        
                                            <div class="row"><div class="col"></div></div>        
                                            
                                        </div>
                                    </div>  
                                    <div class="row"><div class="col" style="font-size: 0.8em; color: gray;">최소 10000원 이상으로 설정해주시기 바랍니다</div></div> 
                                    <div class="row mx-1 mt-1 mb-2 py-1 border rounded"><div class="col d-grid"><input type="number" class="border border-0" id="inputPrice" name="price"></div><div class="col-2 border-start ps-0 text-center">원</div></div>
                                </div>
                            </div> 

                            <div class="row">
                                <div class="col">
                                    <div class="row"><div class="col">목표금액 설정</div></div>    
                                    <div class="row"><div class="col"><span style="font-size: 0.8em; color: gray;">최소 50만 원 이상 ~ 최대 5000만 원 미만으로 설정해주세요</span></div></div>    
                                    <div class="row mx-1 my-2 py-1 border rounded"><div class="col d-grid"><input type="number" id="inputAmount" class="border border-0" name="amount"></div><div class="col-2 border-start ps-0 text-center">원</div></div>
                                </div>
                            </div> 

                            <div class="row my-2"><div class="col-3 px-0 ps-2 text-center"><a href="./prepareRgstrPage" class="btn border-0 rounded text-white" style="background-color: salmon; font-size: 0.85em;">뒤로가기</a></div> <div class="col d-grid"><input type="button" onclick="formSubmit()" value="제출하기" class="rounded" style="background-color: white;"> </div></div>
                        </form>

                        <div class="row"><div class="col" style="padding: 0.3em;"></div></div>  

                    </div>

    <!--container 끝부분-->            
            </div>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>
